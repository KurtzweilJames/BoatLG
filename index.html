<!DOCTYPE html>

<html>

<head>
    <meta charset="utf-8">
    <title>BoatLG</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Font (Lobster) -->
    <link href="https://fonts.googleapis.com/css?family=Lobster" rel="stylesheet">

    <!-- Stylesheet -->
    <link rel="stylesheet" href="main.css">

    <!-- Bootstrap -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/all.css" integrity="sha384-UHRtZLI+pbxtHCWp1t77Bi1L4ZtiqrqD80Kn4Z8NTSRyMA2Fd33n5dQ8lWUE00s/" crossorigin="anonymous">

    <!-- Sunset/Sunrise -->
    <script type='text/javascript' src='/assets/js/sun.js'></script>

    <!-- Leaflet -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.6.0/dist/leaflet.css" integrity="sha512-xwE/Az9zrjBIphAcBb3F6JVqxf46+CDLwfLMHloNu6KEQCAWi6HcDUbeOfBIptF7tcCzusKFjFw2yuvEpDL9wQ==" crossorigin="" />
    <script src="https://unpkg.com/leaflet@1.6.0/dist/leaflet.js" integrity="sha512-gZwIG9x3wUXg2hdXF6+rVkLF/0Vi9U8D2Ntg4Ga5I5BZpVkVxlJWbSQtXPSiUTtC0TjtGOmxa1AJPuV0CPthew==" crossorigin=""></script>

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-127164289-1"></script>
    <script>
        window.dataLayer = window.dataLayer || [];

        function gtag() {
            dataLayer.push(arguments);
        }
        gtag('js', new Date());

        gtag('config', 'UA-127164289-1');

    </script>

    <!-- Favicons/Icons -->
    <link rel="apple-touch-icon" sizes="180x180" href="/assets/icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/assets/icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/assets/icons/favicon-16x16.png">
    <link rel="manifest" href="/assets/icons/site.webmanifest">
    <link rel="mask-icon" href="/assets/icons/safari-pinned-tab.svg" color="#3c8aff">
    <link rel="shortcut icon" href="/assets/icons/favicon.ico">
    <meta name="msapplication-TileColor" content="#2b5797">
    <meta name="msapplication-config" content="/assets/icons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">

</head>

<body>
    <!-- Navigation -->
    <nav class="site-header sticky-top py-1">
        <div class="container d-flex flex-column flex-md-row justify-content-between">
            <a class="py-2" href="#">
                <img src="/assets/geneva.svg" height="26" alt="BoatLG">
            </a>
            <a class="py-2 d-none d-md-inline-block" href="#speed">Speed Limits</a>
            <a class="py-2 d-none d-md-inline-block" href="#age">Age Limits</a>
            <a class="py-2 d-none d-md-inline-block" href="#contacts">Contacts</a>
            <a class="py-2 d-none d-md-inline-block" href="#buoys">Buoys</a>
            <a class="py-2 d-none d-md-inline-block" href="#swimming">Swimming</a>
            <a class="py-2 d-none d-md-inline-block" href="#weather">Weather</a>
        </div>
    </nav>

    <!-- Header -->
    <div class="lg-header">
        <div class="speed-limit-mobile d-inline-block d-md-none">
            <h3 id="textspeed">Current Speed Limit:</h3>
        </div>
        <div class="speed-limit-desktop d-none d-md-inline-block">
            <h3 class="text-light text-center">Current Speed Limit</h3>
            <img src="" id="sl-sign" alt="" height="200">
            <h5 class="text-light text-center" id="until"></h5>
        </div>
    </div>

    <!-- Information -->
    <div class="container">
        <h1 class="sectionhead text-center" style="font-size:56px">Geneva Lake Boating Guide</h1>

    </div>
    <!-- Speed Limits-->
    <div class="container" id="speed">
        <h1 class="sectionhead">Speed Limits</h1>
        <div class="table-responsive">
            <table class="table text-center">
                <thead class="thead-dark">
                    <tr>
                        <th scope="col"></th>
                        <th scope="col">S</th>
                        <th scope="col">M</th>
                        <th scope="col">T</th>
                        <th scope="col">W</th>
                        <th scope="col">T</th>
                        <th scope="col">F</th>
                        <th scope="col">S</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <th scope="row">Sunrise-12pm</th>
                        <td class="table-info">35</td>
                        <td class="table-danger">45</td>
                        <td class="table-danger">45</td>
                        <td class="table-danger">45</td>
                        <td class="table-danger">45</td>
                        <td class="table-danger">45</td>
                        <td class="table-info">35</td>
                    </tr>
                    <tr>
                        <th scope="row">12pm-Sunset</th>
                        <td class="table-info">35</td>
                        <td class="table-danger">45</td>
                        <td class="table-danger">45</td>
                        <td class="table-danger">45</td>
                        <td class="table-danger">45</td>
                        <td class="table-info">35</td>
                        <td class="table-info">35</td>
                    </tr>
                    <tr>
                        <th scope="row">Sunset-Sunrise</th>
                        <td class="table-warning">15</td>
                        <td class="table-warning">15</td>
                        <td class="table-warning">15</td>
                        <td class="table-warning">15</td>
                        <td class="table-warning">15</td>
                        <td class="table-warning">15</td>
                        <td class="table-warning">15</td>
                    </tr>
                    <tr>
                        <th scope="row">Holidays</th>
                        <td class="table-info">35</td>
                        <td class="table-info">35</td>
                        <td class="table-info">35</td>
                        <td class="table-info">35</td>
                        <td class="table-info">35</td>
                        <td class="table-info">35</td>
                        <td class="table-info">35</td>
                    </tr>
                </tbody>
            </table>
        </div>
        <p class="text-center">Holidays include July 3-5, Memorial Day, and Labor Day</p>
    </div>

    <!-- Age Limits -->
    <div class="container" id="age">
        <h1 class="sectionhead">Age Limits</h1>
        <div class="row">
            <div class="col-sm-6">
                <div class="card">
                    <h5 class="card-header">Boats</h5>
                    <div class="card-body">
                        <table class="table">
                            <tr>
                                <td>Under 10</td>
                                <td>May <u>not</u> drive</td>
                            </tr>
                            <tr>
                                <td>10-15</td>
                                <td>Adult required</td>
                            </tr>
                            <tr>
                                <td>12+</td>
                                <td><u>Boating</u> license required*</td>
                            </tr>
                        </table>
                        <p class="text-center">*There is an exception that those born <i>before</i> January 1, 1989 do not need a boating license</p>
                    </div>
                </div>
            </div>
            <div class="col-sm-6">
                <div class="card">
                    <h5 class="card-header">PWCs</h5>
                    <div class="card-body">
                        <table class="table">
                            <tr>
                                <td>Under 12</td>
                                <td>May <u>not</u> drive</td>
                            </tr>
                            <tr>
                                <td>12+</td>
                                <td><u>Boating</u> license required*</td>
                            </tr>
                        </table>
                        <p class="text-center">*There is an exception that those born <i>before</i> January 1, 1989 do not need a boating license</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Contacts -->
    <div class="container" id="contacts">
        <h1 class="sectionhead">Important Contacts</h1>
        <div class="row">
            <div class="col-sm-6">
                <div class="card text-center">
                    <h5 class="card-header">Water Safety Patrol</h5>
                    <div class="card-body">
                        <h5 class="card-title">Medical Emergencies and Boating Assistance</h5>
                        <a href="http://watersafetypatrol.org" class="btn btn-primary"><i class="fas fa-globe"></i> Website</a>
                        <a href="tel:2622456577" class="btn btn-primary"><i class="fas fa-phone"></i> Call</a>
                    </div>
                </div>
            </div>
            <div class="col-sm-6">
                <div class="card text-center">
                    <h5 class="card-header">Geneva Lake Law Enforcement</h5>
                    <div class="card-body">
                        <h5 class="card-title">Law Enforcement/Police</h5>
                        <a href="http://www.genevalakepolice.com/" class="btn btn-primary"><i class="fas fa-globe"></i> Website</a>
                        <a href="tel:2622459824" class="btn btn-primary"><i class="fas fa-phone"></i> Call</a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Buoys -->
    <div class="container" id="buoys">
        <h1 class="sectionhead">Buoys</h1>
        <div class="row row-cols-2 row-cols-md-4">
            <div class="col">
                <div class="card text-center">
                    <img class="card-img-top" src="/assets/buoys/Controlled.svg" alt="Controlled Buoy">
                    <h5 class="card-header">Controlled Area</h5>
                    <p class="card-text"><b>Laws</b></p>
                    <ul class="list-group list-group-flush">
                        <li class="list-group-item"><b>Examples:</b></li>
                        <li class="list-group-item">Slow No Wake</li>
                        <li class="list-group-item">Speed Limits</li>
                    </ul>
                </div>
            </div>
            <div class="col">
                <div class="card text-center">
                    <img class="card-img-top" src="/assets/buoys/Information.svg" alt="Information Buoy">
                    <h5 class="card-header">Information</h5>
                    <p class="card-text"><b>Directions and Information</b></p>
                    <ul class="list-group list-group-flush">
                        <li class="list-group-item"><b>Examples:</b></li>
                        <li class="list-group-item">Gas Station</li>
                        <li class="list-group-item">Marina Entrance</li>
                    </ul>
                </div>
            </div>
            <div class="col">
                <div class="card text-center">
                    <img class="card-img-top" src="/assets/buoys/Keep Out.svg" alt="Keep Out Buoy">
                    <h5 class="card-header">Keep Out</h5>
                    <p class="card-text"><b>Do Not Enter</b></p>
                    <ul class="list-group list-group-flush">
                        <li class="list-group-item"><b>Examples:</b></li>
                        <li class="list-group-item">Firework Barge</li>
                        <li class="list-group-item">No Entry</li>
                    </ul>
                </div>
            </div>
            <div class="col">
                <div class="card text-center">
                    <img class="card-img-top" src="/assets/buoys/Warning.svg" alt="Warning Buoy">
                    <h5 class="card-header">Warning</h5>
                    <p class="card-text"><b>The marked area requires caution.</b></p>
                    <ul class="list-group list-group-flush">
                        <li class="list-group-item"><b>Examples:</b></li>
                        <li class="list-group-item">Danger Area</li>
                        <li class="list-group-item">Shallow Water</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <!-- Swimming -->
    <div class="container" id="swimming">
        <h1 class="sectionhead">Swimming</h1>
        <div class="row">
            <div class="col-sm-6">
                <div class="card">
                    <div class="card-header">Swimming</div>
                    <ul class="list-group list-group-flush">
                        <li class="list-group-item">ALLOWED when boat is anchored or manned</li>
                        <li class="list-group-item">Swimmers must remain within 50 feet of boat</li>
                        <li class="list-group-item">Swimming in traffic lane only allowed when manned</li>
                        <li class="list-group-item">Swimming is only allowed sunrise to sunset</li>
                    </ul>
                </div>
            </div>
            <div class="col-sm-6">
                <div class="card">
                    <div class="card-header">SCUBA Diving</div>
                    <ul class="list-group list-group-flush">
                        <li class="list-group-item">Divers must register with the Water Saftey Patrol</li>
                        <li class="list-group-item">Minimum of Two Divers in the water</li>
                        <li class="list-group-item">Boats must be manned, anchored, and have diver's flag</li>
                        <li class="list-group-item">No diving in the bays between May 15 and September 15</li>
                        <li class="list-group-item">Diving is only allowed in daytime</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <!-- Weather -->
    <div class="container" id="weather">
        <h1 class="sectionhead">Weather</h1>
        <script type='text/javascript' src='https://darksky.net/widget/default/42.5684,-88.4808/us12/en.js?width=100%&height=350&title=Geneva Lake&textColor=212529&bgColor=transparent&transparency=true&skyColor=undefined&fontFamily=Default&customFont=&units=us&htColor=212529&ltColor=C7C7C7&displaySum=yes&displayHeader=yes'></script>
    </div>

    <!-- Lake Map -->
    <div class="container" id="lakemap">
        <h1 class="sectionhead">Map</h1>
        <div class="glmap" id="glmap"></div>
    </div>

    <!-- Footer -->
    <footer class="lg-footer">
        <p>Created by <a href="https://jameskurtzweil.com">James Kurtzweil 2020</a></p>
        <p>
            The information provided on this page is provided for educational purposes only. Please do not use this information for legal information. Use the resources below for official information.
        </p>
        <p>
            <a href="http://www.genevalakepolice.com/resource-doc/LAKE%20ORD%20Flyer%202018.pdf" target="_blank">Geneva Lake Ordinances</a> ///
            <a href="https://dnr.wi.gov/files/pdf/pubs/le/le0301.pdf" target="_blank">Wisconsin DNR</a>
        </p>
        <p class="text-center">
            <a href="https://github.com/KurtzweilJames/BoatLG"><i class="fab fa-github"></i></a>
        </p>

    </footer>

    <script>
        var mymap = L.map('glmap').setView([42.567, -88.499], 13);

        L.tileLayer('https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token=pk.eyJ1Ijoiamt1cnR6d2VpbDIiLCJhIjoiY2thZDluYnBxMjJmdjJ6bXhyOG81Y213eCJ9.MBSKdq0lNlUe2ngXZt4miA', {
            maxZoom: 18,
            attribution: 'Map data &copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors, ' +
                '<a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, ' +
                'Imagery Â© <a href="https://www.mapbox.com/">Mapbox</a>',
            id: 'mapbox/streets-v11',
            tileSize: 512,
            zoomOffset: -1,
        }).addTo(mymap);
        var marker = L.marker([42.5730731, -88.5388487]).addTo(mymap);

    </script>

    <script>
        var d = new Date();
        var h = d.getHours(); // Hour of Day
        var day = d.getDay(); // Day of Week
        var date = d.getDate(); // Day of Month
        var m = d.getMonth(); // Month

        //Sunset & Sunrise
        var rise = d.sunrise(42.56522, -88.50311);
        var set = d.sunset(42.56522, -88.50311);

        var rise = rise.getHours();
        var set = set.getHours();

        //Holidays
        if (date == 25 && m == 4) { // Memorial Day 2020
            holiday = 1;
        } else if (date == 3 && m == 6) { //July 3
            holiday = 1;
        } else if (date == 4 && m == 6) { //July 4
            holiday = 1;
        } else if (date == 5 && m == 6) { //July 5
            holiday = 1;
        } else if (date == 7 && m == 8) { // Labor Day 2020
            holiday = 1;
        } else {
            holiday = 0;
        }

        if (h >= set) { // After Sunset
            speed = 15;
            reason = "After Sunset";
            until = "Until " + (rise + 1) + "am";
        } else if (h <= rise) { // Before Sunrise
            speed = 15;
            reason = "Before Sunrise";
            until = "Until " + (rise + 1) + "am";
        } else if (holiday == 1) { // Holidays
            speed = 35;
            reason = "Holiday";
            until = "Until " + (set - 12) + "pm";
        } else if (day == 6 || day == 0) { // Weekend
            speed = 35;
            reason = "Weekend";
            until = "Until " + (set - 12) + "pm";
        } else if (day == 5 && h < 12) { // Friday before 12
            speed = 45;
            reason = "Weekday";
            until = "Until " + (set - 12) + "pm";
        } else if (day == 5 && h >= 12) { // Friday after 12
            speed = 35;
            reason = "Weekend";
            until = "Until " + (set - 12) + "pm";
        } else {
            speed = 45;
            reason = "Weekday";
            until = "Until " + (set - 12) + "pm";
        }


        if (speed == 15) {
            document.getElementById("sl-sign").src = "/assets/limits/15.svg";
            document.getElementById("sl-sign").alt = "15mph";
        } else if (speed == 35) {
            document.getElementById("sl-sign").src = "/assets/limits/35.svg";
            document.getElementById("sl-sign").alt = "35mph";
        } else if (speed == 45) {
            document.getElementById("sl-sign").src = "/assets/limits/45.svg";
            document.getElementById("sl-sign").alt = "45mph";
        }

        document.getElementById("until").innerHTML = until;
        document.getElementById("textspeed").innerHTML = "Current Speed Limit: " + speed + "mph";

        console.log("Current Speed Limit: " + speed + "mph because it's " + reason);
        console.log("Current Hour: " + h);
        console.log("Sunrise Hour: " + rise);
        console.log("Sunset Hour: " + set);

    </script>

    <!-- Bootstrap -->
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
</body>

</html>
